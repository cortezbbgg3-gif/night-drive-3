@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Rajdhani:wght@600&display=swap');

:root {
  --gauge-bg: #0a0a0a;
  --gauge-rim: #222;
  --glow-orange: #ff9d00;
  --glow-red: #ff3333;
  --plastic-texture: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAIklEQVQIW2NkYGD4D8SMQAwGcAY2AbBKDBBCKBCIgWwAAMQDBywNJkt4AAAAAElFTkSuQmCC');
}

body { margin: 0; background: #000; overflow: hidden; font-family: 'Rajdhani', sans-serif; user-select: none; -webkit-touch-callout: none; }
#root { width: 100%; height: 100%; position: relative; }
#canvas-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }

/* === 1. ИНТЕРЬЕР === */
.cockpit-overlay {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10;
  display: flex; flex-direction: column; justify-content: flex-end;
  pointer-events: none;
}

.windshield-frame {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  box-shadow: inset 0 0 80px rgba(0,0,0,1);
  background: radial-gradient(circle at 50% 40%, transparent 50%, rgba(0,0,0,0.95) 100%);
  pointer-events: none;
}

/* СООБЩЕНИЯ СИСТЕМЫ (ПОЛОМКА) */
.system-msg {
  position: absolute; top: 20%; left: 50%; transform: translate(-50%, -50%);
  color: #ff3333; font-family: 'Orbitron', monospace; font-size: 24px; font-weight: 900;
  background: rgba(0,0,0,0.8); padding: 15px 30px; border: 2px solid #ff3333;
  text-transform: uppercase; letter-spacing: 2px;
  animation: blink 0.2s infinite; z-index: 100; text-align: center;
  box-shadow: 0 0 20px #ff3333;
}

/* === 2. ТОРПЕДО === */
.dashboard-body {
  position: relative; width: 100%; height: 45vh;
  background-color: #1a1a1a;
  background-image: var(--plastic-texture);
  border-top: 4px solid #333;
  border-radius: 50% 50% 0 0 / 20px 20px 0 0;
  box-shadow: 0 -10px 50px #000;
  pointer-events: auto;
  display: flex; justify-content: center; align-items: flex-end;
  padding-bottom: 20px;
}

.cluster-hood {
  position: absolute; bottom: 20%;
  width: 95%; max-width: 650px; height: 65%;
  background: linear-gradient(to bottom, #0f0f0f, #1a1a1a);
  border: 2px solid #333; border-bottom: none;
  border-radius: 40px 40px 0 0;
  box-shadow: inset 0 10px 30px #000;
  display: flex; justify-content: space-around; align-items: center;
  padding: 0 10px;
}

/* === 3. ПРИБОРЫ === */
.gauge-well {
  width: 140px; height: 140px;
  background: #000; border-radius: 50%;
  border: 4px solid #2a2a2a;
  box-shadow: inset 0 0 20px #000;
  position: relative;
}

.gauge-face {
  width: 100%; height: 100%; border-radius: 50%;
  background: radial-gradient(#151515, #000);
  position: relative; opacity: 0.3; transition: opacity 0.8s;
}
.gauge-face.lit { opacity: 1; }

.ticks-rpm, .ticks-speed {
  position: absolute; top:0; left:0; width:100%; height:100%; border-radius: 50%;
  background: repeating-conic-gradient(from -150deg, transparent 0deg, transparent 4deg, #555 5deg, transparent 6deg);
  -webkit-mask-image: radial-gradient(transparent 65%, black 66%);
  mask-image: radial-gradient(transparent 65%, black 66%);
}
.ticks-rpm { 
  background: repeating-conic-gradient(from -150deg, transparent 0deg, transparent 4deg, #eee 5deg, transparent 6deg, transparent 230deg, #d00 231deg, #d00 232deg, transparent 233deg); 
}

.label {
  position: absolute; bottom: 25%; width: 100%; text-align: center;
  color: #666; font-size: 10px; font-weight: 700; letter-spacing: 1px;
}
.val-display {
  position: absolute; bottom: 40%; width: 100%; text-align: center;
  color: #fff; font-family: 'Orbitron', monospace; font-size: 18px;
  text-shadow: 0 0 5px rgba(255,255,255,0.3);
}

.needle {
  position: absolute; top: 15%; left: 50%; width: 4px; height: 35%;
  background: #ff3333; transform: translateX(-50%);
  border-radius: 2px; z-index: 2; box-shadow: 0 0 5px red;
}
.needle.orange { background: #ff9d00; box-shadow: 0 0 5px orange; }

.gauge-glass {
  position: absolute; top:0; left:0; width:100%; height:100%; border-radius: 50%;
  background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 40%, rgba(255,255,255,0.05) 100%);
  pointer-events: none; z-index: 5;
}

/* === 4. ЦЕНТР === */
.center-stack { display: flex; flex-direction: column; align-items: center; gap: 10px; }
.digital-readout {
  display: flex; flex-direction: column; align-items: center;
  background: #000; padding: 5px 20px; border-radius: 8px; border: 1px solid #333;
}
.gear-big { font-family: 'Orbitron'; font-size: 36px; color: #fff; font-weight: bold; }
.temp-label { font-size: 12px; color: #0f0; margin-top: 5px; font-weight: bold; }
.temp-label.warning { color: #f00; animation: blink 0.2s infinite; }

.switch-row { display: flex; gap: 15px; }
.car-btn {
  width: 55px; height: 55px; border-radius: 50%;
  background: linear-gradient(#222, #111);
  border: 2px solid #444; color: #555; font-weight: bold; font-size: 9px;
  cursor: pointer; box-shadow: 0 4px 10px #000; transition: all 0.1s;
}
.car-btn:active { transform: translateY(2px); }
.car-btn.on { border-color: #0f0; color: #0f0; box-shadow: 0 0 15px rgba(0,255,0,0.3); }
.car-btn.active { border-color: #ff9d00; color: #ff9d00; box-shadow: 0 0 15px rgba(255,157,0,0.3); }
.car-btn.nitro.active { border-color: #00ccff; color: #00ccff; box-shadow: 0 0 20px #00ccff; }

/* === 5. ПЕДАЛИ === */
.controls {
  position: absolute; bottom: 20px; width: 100%;
  display: flex; justify-content: space-between; padding: 0 30px;
  pointer-events: none; z-index: 20;
}
.pedal-box { pointer-events: auto; display: flex; flex-direction: column; align-items: center; }
.pedal {
  width: 85px; height: 200px;
  background: #111; border: 2px solid #333; border-radius: 10px;
  position: relative; overflow: hidden; box-shadow: 0 10px 30px #000;
}
.pedal-tread {
  width: 100%; height: 100%; opacity: 0.2;
  background: repeating-linear-gradient(0deg, transparent, transparent 10px, #000 11px, #000 12px);
  pointer-events: none;
}
.pedal-pressure {
  position: absolute; bottom: 0; left: 0; width: 100%;
  background: linear-gradient(to top, #ff9d00, transparent);
  opacity: 0.8; transition: height 0.05s linear;
}
.pedal-label { margin-top: 10px; color: #666; font-weight: bold; font-size: 14px; letter-spacing: 1px; }

/* АНИМАЦИИ */
@keyframes blink { 
  0% { opacity: 1; } 
  50% { opacity: 0.3; } 
  100% { opacity: 1; } 
}


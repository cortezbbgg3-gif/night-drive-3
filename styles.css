@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Manrope:wght@400;800&display=swap');

body { margin: 0; background: #000; overflow: hidden; user-select: none; font-family: 'Manrope', sans-serif; }
#root { width: 100%; height: 100%; position: relative; }

/* === 3D WORLD LAYER === */
.world-layer { position: absolute; top: 0; left: 0; width: 100%; height: 60%; z-index: 1; }

/* === INTERIOR / DASHBOARD LAYER === */
.cabin-layer {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  z-index: 10;
  pointer-events: none;
  display: flex; flex-direction: column; justify-content: flex-end;
}

/* ЛОБОВОЕ СТЕКЛО (Frame) */
.windshield-frame {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  box-shadow: inset 0 0 100px #000;
  background: 
    linear-gradient(to bottom, #111 0%, transparent 10%, transparent 50%, rgba(0,0,0,0.8) 100%), /* Тень сверху/снизу */
    linear-gradient(90deg, #111 0%, transparent 10%, transparent 90%, #111 100%); /* Стойки по бокам */
  z-index: 5;
}

/* ТОРПЕДО (DASHBOARD BODY) */
.dashboard-body {
  position: relative; width: 100%; height: 45%;
  background: #181818;
  /* Текстура пластика (шум) */
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAIklEQVQIW2NkYGD4D8SMQAwGcAY2AbBKDBBCKBCIgWwAAMQDBywNJkt4AAAAAElFTkSuQmCC');
  border-top: 4px solid #222;
  border-radius: 50% 50% 0 0 / 20px 20px 0 0;
  box-shadow: 0 -10px 50px #000;
  display: flex; justify-content: center; align-items: center;
  pointer-events: auto;
}

/* КОЗЫРЕК ПРИБОРОВ */
.cluster-hood {
  position: absolute; bottom: 10%;
  width: 70%; height: 80%;
  background: #111;
  border-radius: 40px;
  border: 2px solid #333;
  box-shadow: inset 0 0 30px #000;
  display: flex; justify-content: space-around; align-items: center;
  padding: 0 40px;
}

/* ПРИБОРЫ (КРУГИ) */
.gauge {
  width: 140px; height: 140px;
  background: radial-gradient(circle at center, #222 0%, #000 70%);
  border-radius: 50%;
  border: 3px solid #444;
  position: relative;
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
}

/* НАСЕЧКИ (TICKS) - Рисуем градиентом */
.ticks {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: repeating-conic-gradient(from -135deg, transparent 0deg, transparent 2deg, #555 3deg, transparent 4deg);
  -webkit-mask-image: radial-gradient(transparent 60%, black 65%);
  mask-image: radial-gradient(transparent 60%, black 65%);
  border-radius: 50%;
  transform: rotate(0deg); /* Для корректного угла */
}
/* Красная зона тахометра */
.ticks.redzone {
  background: repeating-conic-gradient(from 90deg, #a00 0deg, #a00 2deg, transparent 3deg, transparent 4deg);
}

.gauge-center {
  position: absolute; top: 50%; left: 50%; width: 20px; height: 20px;
  background: #111; border-radius: 50%; transform: translate(-50%, -50%);
  z-index: 5; box-shadow: 0 2px 5px #000;
}

/* ЦИФРЫ И ЛЕЙБЛЫ */
.label {
  position: absolute; bottom: 25%; width: 100%; text-align: center;
  color: #888; font-size: 10px; font-weight: 800; letter-spacing: 1px;
}
.val-display {
  position: absolute; bottom: 40%; width: 100%; text-align: center;
  color: #fff; font-family: 'Orbitron', monospace; font-size: 14px;
}

/* СТРЕЛКИ */
.needle {
  position: absolute; top: 10%; left: 50%;
  width: 3px; height: 40%;
  background: #ff3300;
  transform-origin: bottom center;
  border-radius: 2px;
  box-shadow: 0 0 5px rgba(255, 50, 0, 0.5);
  transition: transform 0.1s linear; /* Плавность, но не мыло */
  z-index: 4;
}

/* ПЕДАЛИ И КНОПКИ */
.controls {
  position: absolute; bottom: 20px; width: 100%;
  display: flex; justify-content: space-between; padding: 0 40px;
  pointer-events: none; z-index: 20;
}

.pedal {
  width: 80px; height: 200px;
  background: linear-gradient(to bottom, #222, #111);
  border: 2px solid #333; border-radius: 10px;
  box-shadow: 0 5px 15px #000;
  pointer-events: auto; position: relative; overflow: hidden;
}
.pedal-fill {
  position: absolute; bottom: 0; width: 100%; background: #ff9d00; opacity: 0.5;
  transition: height 0.05s;
}

.center-stack {
  position: absolute; bottom: 55%; left: 50%; transform: translateX(-50%);
  display: flex; gap: 15px; pointer-events: auto;
}
.btn {
  width: 60px; height: 60px; border-radius: 50%;
  background: #111; border: 2px solid #444; color: #666;
  display: flex; justify-content: center; align-items: center;
  font-size: 10px; font-weight: bold; cursor: pointer;
  box-shadow: 0 3px 5px #000;
}
.btn.active { border-color: #ff9d00; color: #ff9d00; text-shadow: 0 0 5px #ff9d00; }
.btn-start.on { border-color: #0f0; color: #0f0; }

/* ДЫМ (CSS Overlay) */
.smoke-overlay {
  position: absolute; top:0; left:0; width:100%; height:60%;
  background: rgba(255,255,255,0.0);
  pointer-events: none; transition: background 1s; z-index: 2;
}

